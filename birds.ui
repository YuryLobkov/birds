{
    "ClientConfiguration": {
        "ConfigurationName": "Test_birds",
        "ConfigurationDescription": "Test task for RightScan by Yury Lobkov",
        "ConfigurationVersion": "0.1.0",
        "Processes": [
            {
                "type": "Process",
                "ProcessName": "Birds",
                "PlanFactHeader": "Plan/Fact",
                "DefineOnBackPressed": false,
                "hidden": false,
                "login_screen": false,
                "SC": false,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "BirdsList",
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "noConfirmation": true,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "send_when_opened": false,
                        "send_after_opened": false,
                        "onlineOnInput": false,
                        "DefOnlineOnCreate": "",
                        "DefOnlineOnInput": "",
                        "DefOnCreate": "",
                        "DefOnInput": "",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "match_parent",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "CardsLayout",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@cards",
                                        "Variable": ""
                                    }
                                ],
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": ""
                            },
                            {
                                "Value": "plus",
                                "Variable": "add_bird",
                                "type": "fab"
                            }
                        ],
                        "onlineOnAfterStart": false,
                        "layout_file": "",
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "birds_on_start",
                                "postExecute": "",
                                "listener": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "birds_on_create",
                                "postExecute": ""
                            },
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "init_bd_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onPostStart",
                                "action": "run",
                                "type": "python",
                                "method": "birds_after_start",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "Name": "BirdAdd",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "match_parent",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Add new bird",
                                        "Variable": "",
                                        "TextBold": true,
                                        "TextSize": "20"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Name",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "EditTextText",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@bird_name",
                                        "Variable": "bird_name"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Feather color",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "EditTextText",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@feather_color",
                                        "Variable": "feather_color"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@no_image",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "Picture",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@new_image",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "Button",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "save",
                                        "Variable": "btn_save"
                                    }
                                ],
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": ""
                            },
                            {
                                "Value": "",
                                "Variable": "camera",
                                "type": "photo"
                            },
                            {
                                "Value": "",
                                "Variable": "gallery",
                                "type": "photoGallery"
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false,
                        "noConfirmation": true,
                        "layout_file": "",
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "birds_on_add",
                                "postExecute": "",
                                "listener": "btn_save"
                            },
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "birds_add_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "camera_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "camera_on_input",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            },
            {
                "ProcessName": "Birds i`ve seen",
                "type": "Process",
                "Operations": [
                    {
                        "Name": "Seen birds",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "plus",
                                "Variable": "write_seen_bird_btn",
                                "type": "fab"
                            },
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "match_parent",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@seen_list_title",
                                        "Variable": "seen_list_title"
                                    },
                                    {
                                        "type": "CardsLayout",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@cards",
                                        "Variable": "@cards"
                                    }
                                ],
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": ""
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false,
                        "layout_file": "",
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "seen_birds_on_input",
                                "postExecute": ""
                            },
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "seen_birds_on_start",
                                "postExecute": ""
                            }
                        ],
                        "noConfirmation": true
                    }
                ]
            }
        ],
        "ConfigurationSettings": {
            "uid": "c562f7effb7c43ac989e537a14d091f9",
            "vendor": "Yury Lobkov"
        },
        "ConfigurationTags": "Py,off-line",
        "arch2": true,
        "PyHandlers": "aW1wb3J0IGpzb24KZnJvbSBvcyBpbXBvcnQgbmFtZQpmcm9tIHBvbnkub3JtLmNvcmUgaW1wb3J0IGRiX3Nlc3Npb24KZnJvbSBwb255Lm9ybSBpbXBvcnQgKAogICAgRGF0YWJhc2UsCiAgICBSZXF1aXJlZCwKICAgIE9wdGlvbmFsLAogICAgUHJpbWFyeUtleSwKICAgIFNldCwKICAgIHNlbGVjdCwKICAgIGRlbGV0ZSwKICAgIGNvdW50LAopCgpkYiA9IERhdGFiYXNlKCkKZGIuYmluZCgKICAgIHByb3ZpZGVyPSJzcWxpdGUiLAogICAgZmlsZW5hbWU9Ii8vZGF0YS9kYXRhL3J1LnRyYXZlbGZvb2Quc2ltcGxlX3VpL2RhdGFiYXNlcy9TaW1wbGVXTVMiLAogICAgY3JlYXRlX2RiPVRydWUsCikKCgpjbGFzcyBCaXJkcyhkYi5FbnRpdHkpOgogICAgaWQgPSBQcmltYXJ5S2V5KGludCwgYXV0bz1UcnVlKQogICAgbmFtZSA9IFJlcXVpcmVkKHN0cikKICAgIGNvbG9yID0gUmVxdWlyZWQoc3RyKQogICAgaW1hZ2UgPSBPcHRpb25hbChzdHIpCiAgICBzZWVuID0gU2V0KCJTZWVuQmlyZHMiKQoKCmNsYXNzIFNlZW5CaXJkcyhkYi5FbnRpdHkpOgogICAgaWQgPSBQcmltYXJ5S2V5KGludCwgYXV0bz1UcnVlKQogICAgZGF0ZXRpbWVfc2VlbiA9IFJlcXVpcmVkKHN0ciwgc3FsX2RlZmF1bHQ9IkNVUlJFTlRfVElNRVNUQU1QIikKICAgIGJpcmRfaWQgPSBPcHRpb25hbChCaXJkcykKCgpAZGJfc2Vzc2lvbgpkZWYgZGVsZXRlX2FsbF9iaXJkcygpOgogICAgZGVsZXRlKGIgZm9yIGIgaW4gQmlyZHMpCgoKZGIuZ2VuZXJhdGVfbWFwcGluZyhjcmVhdGVfdGFibGVzPVRydWUpCgoKQGRiX3Nlc3Npb24KZGVmIHdyaXRlX2JpcmQobmFtZSwgY29sb3IsIGltYWdlKToKICAgIGIxID0gQmlyZHMobmFtZT1uYW1lLCBjb2xvcj1jb2xvciwgaW1hZ2U9aW1hZ2UpCgoKQGRiX3Nlc3Npb24KZGVmIHJlYWRfYmlyZHMoKToKICAgIGJpcmRzX2xpc3QgPSBzZWxlY3QoYiBmb3IgYiBpbiBCaXJkcylbOl0KICAgIGJpcmRzID0gW2IudG9fZGljdCgpIGZvciBiIGluIGJpcmRzX2xpc3RdCiAgICByZXR1cm4gYmlyZHMKCgpkZWYgYmlyZHNfb25fY3JlYXRlKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlmIGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpID09ICJhZGRfYmlyZCI6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAiQmlyZEFkZCIpCiAgICBpZiBoYXNoTWFwLmdldCgibGlzdGVuZXIiKSA9PSAiTGF5b3V0QWN0aW9uIjoKICAgICAgICBzZWVuX2JpcmRfaWQgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJjYXJkX2RhdGEiKSlbImtleSJdCiAgICAgICAgc2Vlbl9iaXJkX25hbWUgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJjYXJkX2RhdGEiKSlbIm5hbWUiXVs2Ol0KICAgICAgICBoYXNoTWFwLnB1dCgidG9hc3QiLCAiQmlyZCAiICsgc2Vlbl9iaXJkX25hbWUgKyAiIHNhdmVkIGFzIHNlZW4iKQogICAgICAgIGhhc2hNYXAucHV0KCJfc2Vlbl9iaXJkX2lkIiwgc3RyKHNlZW5fYmlyZF9pZCkpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBiaXJkc19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBoYXNoTWFwLnB1dCgiZ2V0ZmlsZXMiLCAiIikKICAgIGpfYmlyZHMgPSByZWFkX2JpcmRzKCkKICAgIGogPSB7CiAgICAgICAgImN1c3RvbWNhcmRzIjogewogICAgICAgICAgICAib3B0aW9ucyI6IHsic2VhcmNoX2VuYWJsZWQiOiBUcnVlLCAic2F2ZV9wb3NpdGlvbiI6IFRydWV9LAogICAgICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJQaWN0dXJlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHBpYzEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICIyMDAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAiMTAwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMzNGMzZWIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmVydGljYWxfZ3Jhdml0eSI6ICJjZW50ZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY29sb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMwN2E2NjMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ3Jhdml0eV9ob3Jpem9udGFsIjogImNlbnRlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJCdXR0b24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIiNmMDZlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICJAa2V5IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9LAogICAgICAgIH0KICAgIH0KCiAgICBqWyJjdXN0b21jYXJkcyJdWyJjYXJkc2RhdGEiXSA9IFtdCiAgICBmb3IgYmlyZCBpbiBqX2JpcmRzOgogICAgICAgIGMgPSB7CiAgICAgICAgICAgICJrZXkiOiBiaXJkWyJpZCJdLAogICAgICAgICAgICAibmFtZSI6ICJOYW1lOiAiICsgYmlyZFsibmFtZSJdLAogICAgICAgICAgICAiY29sb3IiOiAiRmVhdGhlcnMgY29sb3I6ICIgKyBiaXJkWyJjb2xvciJdLAogICAgICAgICAgICAicGljMSI6ICJ+IgogICAgICAgICAgICArIG5leHQoKGRbInBhdGgiXSBmb3IgZCBpbiBfZmlsZXMgaWYgZFsiaWQiXSA9PSBiaXJkWyJpbWFnZSJdKSwgTm9uZSksCiAgICAgICAgfQogICAgICAgIGpbImN1c3RvbWNhcmRzIl1bImNhcmRzZGF0YSJdLmFwcGVuZChjKQoKICAgIGhhc2hNYXAucHV0KCJjYXJkcyIsIGpzb24uZHVtcHMoaiwgZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoInV0ZjgiKS5kZWNvZGUoKSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBiaXJkc19hZnRlcl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICAjIGRlbGV0ZV9hbGxfYmlyZHMoKSAjIG9ubHkgZm9yIGRlYnVnLCB0byBjbGVhbiB0YWJsZQogICAgIyBkYi5kcm9wX3RhYmxlKCJCaXJkcyIpIyBvbmx5IGZvciBkZWJ1ZwogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgYmlyZHNfb25fYWRkKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlmIGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpID09ICJidG5fc2F2ZSI6CiAgICAgICAgd3JpdGVfYmlyZCgKICAgICAgICAgICAgaGFzaE1hcC5nZXQoImJpcmRfbmFtZSIpLAogICAgICAgICAgICBjb2xvcj1oYXNoTWFwLmdldCgiZmVhdGhlcl9jb2xvciIpLAogICAgICAgICAgICBpbWFnZT1oYXNoTWFwLmdldCgiaW1nIiksCiAgICAgICAgKQogICAgICAgICMgY2xlYW5pbmcgaGFzaG1hcCBhZnRlciBkYiB3cml0ZSB0byBjbGVhbiBmb3JtIGZvciBuZXh0IG5ldyBiaXJkCiAgICAgICAgaGFzaE1hcC5wdXQoImJpcmRfbmFtZSIsICIiKQogICAgICAgIGhhc2hNYXAucHV0KCJmZWF0aGVyX2NvbG9yIiwgIiIpCiAgICAgICAgaGFzaE1hcC5wdXQoIm5ld19pbWFnZSIsICIiKQogICAgICAgIGhhc2hNYXAucHV0KCJjYW1lcmEiLCBOb25lKQogICAgICAgIGhhc2hNYXAucHV0KCJnYWxsZXJ5IiwgTm9uZSkKICAgICAgICBoYXNoTWFwLnB1dCgiaW1nIiwgIiIpCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAiQmlyZHNMaXN0IikKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGJpcmRzX2FkZF9vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICAjIENoZWNrIGlmIG9uZSBvZiBpbWFnZXMgaGFzIGJlZW4gcHJvdmlkZWQKICAgIGlmIGhhc2hNYXAuZ2V0KCJjYW1lcmEiKSA9PSBOb25lIGFuZCBoYXNoTWFwLmdldCgiZ2FsbGVyeSIpID09IE5vbmU6CiAgICAgICAgaGFzaE1hcC5wdXQoIm5vX2ltYWdlIiwgIk5vIGltYWdlIikKICAgICMgY2FzZSBnYWxsZXJ5IChyZW1vdmUgJ25vIGltYWdlJyB0ZXh0LCB3cml0ZSBpbWcgdmFyLCBwdXQgaW1hZ2UgdG8gZm9ybSBhbmQgY2xlYW4gaW5wdXQgdmFyaWFibGVzKQogICAgZWxpZiBoYXNoTWFwLmNvbnRhaW5zS2V5KCJnYWxsZXJ5IikgYW5kIGhhc2hNYXAuZ2V0KCJnYWxsZXJ5IikgIT0gTm9uZToKICAgICAgICBoYXNoTWFwLnB1dCgibm9faW1hZ2UiLCAiIikKICAgICAgICBoYXNoTWFwLnB1dCgiaW1nIiwgaGFzaE1hcC5nZXQoImdhbGxlcnkiKSkKICAgICAgICBoYXNoTWFwLnB1dCgKICAgICAgICAgICAgIm5ld19pbWFnZSIsCiAgICAgICAgICAgICJ+IgogICAgICAgICAgICArIG5leHQoCiAgICAgICAgICAgICAgICAoZFsicGF0aCJdIGZvciBkIGluIF9maWxlcyBpZiBkWyJpZCJdID09IGhhc2hNYXAuZ2V0KCJnYWxsZXJ5IikpLCAiIgogICAgICAgICAgICApLAogICAgICAgICkKICAgICAgICBoYXNoTWFwLnB1dCgiZ2FsbGVyeSIsIE5vbmUpCiAgICAgICAgaGFzaE1hcC5wdXQoImNhbWVyYSIsIE5vbmUpCiAgICAjIGNhc2UgY2FtZXJhLCBzYW1lIGFzIGFib3ZlCiAgICBlbGlmIGhhc2hNYXAuY29udGFpbnNLZXkoImNhbWVyYSIpIGFuZCBoYXNoTWFwLmdldCgiY2FtZXJhIikgIT0gTm9uZToKICAgICAgICBoYXNoTWFwLnB1dCgibm9faW1hZ2UiLCAiIikKICAgICAgICBoYXNoTWFwLnB1dCgiaW1nIiwgaGFzaE1hcC5nZXQoImNhbWVyYSIpKQogICAgICAgIGhhc2hNYXAucHV0KAogICAgICAgICAgICAibmV3X2ltYWdlIiwKICAgICAgICAgICAgIn4iCiAgICAgICAgICAgICsgbmV4dCgoZFsicGF0aCJdIGZvciBkIGluIF9maWxlcyBpZiBkWyJpZCJdID09IGhhc2hNYXAuZ2V0KCJjYW1lcmEiKSksICIiKSwKICAgICAgICApCiAgICAgICAgaGFzaE1hcC5wdXQoImNhbWVyYSIsIE5vbmUpCiAgICAgICAgaGFzaE1hcC5wdXQoImdhbGxlcnkiLCBOb25lKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgaW5pdF9iZF9vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBoYXNoTWFwLnB1dCgiU1FMQ29ubmVjdERhdGFiYXNlIiwgIiIpCiAgICBoYXNoTWFwLnB1dCgKICAgICAgICAiU1FMRXhlYyIsCiAgICAgICAganNvbi5kdW1wcygKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInF1ZXJ5IjogImNyZWF0ZSB0YWJsZSBJRiBOT1QgRVhJU1RTIEJpcmRzKGlkIGludGVnZXIgcHJpbWFyeSBrZXkgYXV0b2luY3JlbWVudCwgbmFtZSB0ZXh0LCBjb2xvciB0ZXh0LCBpbWFnZSB0ZXh0KSIsCiAgICAgICAgICAgICAgICAicGFyYW1zIjogIiIsCiAgICAgICAgICAgIH0KICAgICAgICApLAogICAgKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgY2FtZXJhX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGhhc2hNYXAucHV0KCJtbV9sb2NhbCIsICIiKQogICAgaGFzaE1hcC5wdXQoIm1tX3NpemUiLCAiMzAiKQogICAgaGFzaE1hcC5wdXQoIm1tX2NvbXByZXNzaW9uIiwgIjMwIikKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGNhbWVyYV9vbl9pbnB1dChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICByZXR1cm4gaGFzaE1hcAoKCiMjIy0tLS0tLS0tLS0tLS0tLS0tLS12dnYtLS1zZWVuIGJpcmRzIGhhbmRsZXJzLS0tdnZ2LS0tLS0tLS0tLS0tLQoKCkBkYl9zZXNzaW9uCmRlZiB3cml0ZV9zZWVuX2JpcmRzKGlkKToKICAgIGJzMSA9IFNlZW5CaXJkcyhiaXJkX2lkPWlkKQoKCkBkYl9zZXNzaW9uCmRlZiByZWFkX3NlZW5fYmlyZHMoKToKICAgIHNlZW5fYmlyZHNfcXVlcnkgPSBzZWxlY3QoCiAgICAgICAgKAogICAgICAgICAgICAoCiAgICAgICAgICAgICAgICBzYi5iaXJkX2lkLmltYWdlLAogICAgICAgICAgICAgICAgc2IuYmlyZF9pZC5uYW1lLAogICAgICAgICAgICAgICAgc2IuZGF0ZXRpbWVfc2VlbiwKICAgICAgICAgICAgICAgIGNvdW50KAogICAgICAgICAgICAgICAgICAgIHNiMgogICAgICAgICAgICAgICAgICAgIGZvciBzYjIgaW4gU2VlbkJpcmRzCiAgICAgICAgICAgICAgICAgICAgaWYgc2IyLmJpcmRfaWQgPT0gc2IuYmlyZF9pZAogICAgICAgICAgICAgICAgICAgIGFuZCBzYjIuZGF0ZXRpbWVfc2VlbiA8PSBzYi5kYXRldGltZV9zZWVuCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICApCiAgICAgICAgICAgIGZvciBzYiBpbiBTZWVuQmlyZHMKICAgICAgICApCiAgICApWzpdCgogICAgIyBLZXlzIGZvciBlbnRpdGllcyBvZiBxdWVyeQogICAga2V5cyA9IFsiaW1hZ2UiLCAibmFtZSIsICJkYXRldGltZV9zZWVuIiwgInRpbWVzX3NlZW4iXQogICAgIyBDcmVhdGluZyBhIGxpc3Qgb2YgZGljdGlvbmFyaWVzIGZyb20gdGhlIGxpc3Qgb2YgdHVwbGVzCiAgICBzZWVuX2JpcmRzX2xpc3QgPSBbe2tleXNbaV06IGl0ZW0gZm9yIGksIGl0ZW0gaW4gZW51bWVyYXRlKHQpfSBmb3IgdCBpbiBzZWVuX2JpcmRzX3F1ZXJ5XQoKICAgIHJldHVybiBzZWVuX2JpcmRzX2xpc3QKCgpkZWYgc2Vlbl9iaXJkc19vbl9pbnB1dChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgibGlzdGVuZXIiKSA9PSAiY2hlY2siOgogICAgICAgIGhhc2hNYXAucHV0KCJ0b2FzdCIsIGhhc2hNYXAuZ2V0KCJfc2Vlbl9iaXJkX2lkIikpCiAgICBpZiBoYXNoTWFwLmdldCgibGlzdGVuZXIiKSA9PSAid3JpdGVfc2Vlbl9iaXJkX2J0biI6CiAgICAgICAgd3JpdGVfc2Vlbl9iaXJkcyhoYXNoTWFwLmdldCgiX3NlZW5fYmlyZF9pZCIpKQogICAgICAgIGhhc2hNYXAucHV0KCJfc2Vlbl9iaXJkX2lkIiwgTm9uZSkKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHNlZW5fYmlyZHNfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaGFzaE1hcC5wdXQoImdldGZpbGVzIiwgIiIpCiAgICBpZiBoYXNoTWFwLmdldCgnX3NlZW5fYmlyZF9pZCcpICE9IE5vbmU6CiAgICAgICAgaGFzaE1hcC5wdXQoJ3Nob3dfd3JpdGVfc2Vlbl9iaXJkX2J0bicsJzEnKQogICAgICAgIGhhc2hNYXAucHV0KCdzZWVuX2xpc3RfdGl0bGUnLCcnKQogICAgZWxzZToKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd193cml0ZV9zZWVuX2JpcmRfYnRuJywgJzAnKQogICAgICAgIGhhc2hNYXAucHV0KCdzZWVuX2xpc3RfdGl0bGUnLCdUbyBhZGQgYmlyZCBpbiBzZWVuYHMgbGlzdCwgc2VsZWN0IGl0IGluICJCaXJkcyIgcHJvY2VzcyBieSBwcmVzc2luZyAiRXllIiBidXR0b24sIHRoZW4gcmV0dXJuIGhlcmUnKQogICAgal9iaXJkc19zZWVuID0gcmVhZF9zZWVuX2JpcmRzKCkKICAgIGogPSB7CiAgICAgICAgImN1c3RvbWNhcmRzIjogewogICAgICAgICAgICAib3B0aW9ucyI6IHsic2VhcmNoX2VuYWJsZWQiOiBUcnVlLCAic2F2ZV9wb3NpdGlvbiI6IFRydWV9LAogICAgICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJQaWN0dXJlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHBpYzEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGRhdGVfdGltZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE2IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIzFiNmQ3ZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2ZXJ0aWNhbF9ncmF2aXR5IjogImNlbnRlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBuYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjNDIwMjFjIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEl0YWxpYyI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdyYXZpdHlfaG9yaXpvbnRhbCI6ICJjZW50ZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAc2Vlbl90aW1lcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIzMzMzMzMyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJncmF2aXR5X2hvcml6b250YWwiOiAiY2VudGVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgfSwKICAgICAgICB9CiAgICB9CgogICAgalsiY3VzdG9tY2FyZHMiXVsiY2FyZHNkYXRhIl0gPSBbXQogICAgZm9yIGJpcmRfc2VlbiBpbiBqX2JpcmRzX3NlZW46CiAgICAgICAgYyA9IHsKICAgICAgICAgICAgJ3BpYzEnOiAnficrIG5leHQoKGRbJ3BhdGgnXSBmb3IgZCBpbiBfZmlsZXMgaWYgZFsnaWQnXSA9PSBiaXJkX3NlZW5bJ2ltYWdlJ10pLCBOb25lKSwKICAgICAgICAgICAgJ25hbWUnOiAnQmlyZCBuYW1lOiAnK2JpcmRfc2VlblsnbmFtZSddLAogICAgICAgICAgICAnZGF0ZV90aW1lJzogJ1NlZW4gb24gJytiaXJkX3NlZW5bJ2RhdGV0aW1lX3NlZW4nXSwKICAgICAgICAgICAgJ3NlZW5fdGltZXMnOiAnVG90YWw6IHNlZW4nK3N0cihiaXJkX3NlZW5bJ3RpbWVzX3NlZW4nXSkrJyB0aW1lcycKICAgICAgICB9CiAgICAgICAgalsiY3VzdG9tY2FyZHMiXVsiY2FyZHNkYXRhIl0uYXBwZW5kKGMpCgogICAgaGFzaE1hcC5wdXQoImNhcmRzIiwganNvbi5kdW1wcyhqLCBlbnN1cmVfYXNjaWk9RmFsc2UpLmVuY29kZSgidXRmOCIpLmRlY29kZSgpKQoKICAgIHJldHVybiBoYXNoTWFwCg==",
        "RunPython": true
    }
}