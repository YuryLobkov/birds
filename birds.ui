{
    "ClientConfiguration": {
        "ConfigurationName": "Test_birds",
        "ConfigurationDescription": "New SimpleUI confiluration development",
        "ConfigurationVersion": "0.0.1",
        "Processes": [
            {
                "type": "Process",
                "ProcessName": "Birds",
                "PlanFactHeader": "Plan/Fact",
                "DefineOnBackPressed": false,
                "hidden": false,
                "login_screen": false,
                "SC": false,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "BirdsList",
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "noConfirmation": true,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "send_when_opened": false,
                        "send_after_opened": false,
                        "onlineOnInput": false,
                        "DefOnlineOnCreate": "",
                        "DefOnlineOnInput": "",
                        "DefOnCreate": "",
                        "DefOnInput": "",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "match_parent",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "CardsLayout",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@cards",
                                        "Variable": ""
                                    }
                                ],
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": ""
                            },
                            {
                                "Value": "plus",
                                "Variable": "add_bird",
                                "type": "fab"
                            }
                        ],
                        "onlineOnAfterStart": false,
                        "layout_file": "",
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "birds_on_start",
                                "postExecute": "",
                                "listener": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "birds_on_create",
                                "postExecute": ""
                            },
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "init_bd_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onPostStart",
                                "action": "run",
                                "type": "python",
                                "method": "birds_after_start",
                                "postExecute": ""
                            }
                        ]
                    },
                    {
                        "Name": "BirdAdd",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "match_parent",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Add new bird",
                                        "Variable": "",
                                        "TextBold": true,
                                        "TextSize": "20"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Name",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "EditTextText",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@bird_name",
                                        "Variable": "bird_name"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Feather color",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "EditTextText",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@feather_color",
                                        "Variable": "feather_color"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@no_image",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "Picture",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@new_image",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "Button",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "save",
                                        "Variable": "btn_save"
                                    }
                                ],
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": ""
                            },
                            {
                                "Value": "",
                                "Variable": "camera",
                                "type": "photo"
                            },
                            {
                                "Value": "",
                                "Variable": "gallery",
                                "type": "photoGallery"
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false,
                        "noConfirmation": true,
                        "layout_file": "",
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "birds_on_add",
                                "postExecute": "",
                                "listener": "btn_save"
                            },
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "birds_add_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "camera_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "camera_on_input",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            },
            {
                "ProcessName": "Birds i`ve seen",
                "type": "Process",
                "Operations": [
                    {
                        "Name": "Seen birds",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "check",
                                        "Variable": "check"
                                    },
                                    {
                                        "type": "CardsLayout",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@cards",
                                        "Variable": ""
                                    }
                                ],
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": ""
                            },
                            {
                                "Value": "plus",
                                "Variable": "write_seen_bird_btn",
                                "type": "fab"
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false,
                        "layout_file": "",
                        "Handlers": [
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "seen_birds_on_input",
                                "postExecute": ""
                            },
                            {
                                "event": "",
                                "action": "",
                                "type": "",
                                "method": "",
                                "postExecute": ""
                            }
                        ]
                    }
                ]
            }
        ],
        "ConfigurationSettings": {
            "uid": "c562f7effb7c43ac989e537a14d091f9"
        },
        "ConfigurationTags": "Py,off-line",
        "arch2": true,
        "PyHandlers": "ZnJvbSBlbnVtIGltcG9ydCBhdXRvCmltcG9ydCBqc29uCmZyb20gb3MgaW1wb3J0IG5hbWUKZnJvbSBwb255Lm9ybS5jb3JlIGltcG9ydCBkYl9zZXNzaW9uLCBkYXRldGltZQpmcm9tIHBvbnkub3JtIGltcG9ydCBEYXRhYmFzZSwgUmVxdWlyZWQsIE9wdGlvbmFsLCBQcmltYXJ5S2V5LCBTZXQsIHNlbGVjdCwgZGVsZXRlCgpkYiA9IERhdGFiYXNlKCkKZGIuYmluZCgKICAgIHByb3ZpZGVyPSJzcWxpdGUiLAogICAgZmlsZW5hbWU9Ii8vZGF0YS9kYXRhL3J1LnRyYXZlbGZvb2Quc2ltcGxlX3VpL2RhdGFiYXNlcy9TaW1wbGVXTVMiLAogICAgY3JlYXRlX2RiPVRydWUsCikKCgpjbGFzcyBCaXJkcyhkYi5FbnRpdHkpOgogICAgaWQgPSBQcmltYXJ5S2V5KGludCwgYXV0bz1UcnVlKQogICAgbmFtZSA9IFJlcXVpcmVkKHN0cikKICAgIGNvbG9yID0gUmVxdWlyZWQoc3RyKQogICAgaW1hZ2UgPSBPcHRpb25hbChzdHIpCiAgICBzZWVuID0gU2V0KCdTZWVuQmlyZHMnKQoKCmNsYXNzIFNlZW5CaXJkcyhkYi5FbnRpdHkpOgogICAgaWQgPSBQcmltYXJ5S2V5KGludCwgYXV0bz1UcnVlKQogICAgZGF0ZXRpbWVfc2VlbiA9IFJlcXVpcmVkKGRhdGV0aW1lLmRhdGV0aW1lLCBzcWxfZGVmYXVsdD0nQ1VSUkVOVF9USU1FU1RBTVAnKQogICAgYmlyZF9pZCA9IE9wdGlvbmFsKEJpcmRzKQoKCkBkYl9zZXNzaW9uCmRlZiBkZWxldGVfYWxsX2JpcmRzKCk6CiAgICBkZWxldGUoYiBmb3IgYiBpbiBCaXJkcykKCgpkYi5nZW5lcmF0ZV9tYXBwaW5nKGNyZWF0ZV90YWJsZXM9VHJ1ZSkKCgpAZGJfc2Vzc2lvbgpkZWYgd3JpdGVfYmlyZChuYW1lLCBjb2xvciwgaW1hZ2UpOgogICAgYjEgPSBCaXJkcyhuYW1lPW5hbWUsIGNvbG9yPWNvbG9yLCBpbWFnZT1pbWFnZSkKCgpAZGJfc2Vzc2lvbgpkZWYgcmVhZF9iaXJkcygpOgogICAgYmlyZHNfbGlzdCA9IHNlbGVjdChiIGZvciBiIGluIEJpcmRzKVs6XQogICAgYmlyZHMgPSBbYi50b19kaWN0KCkgZm9yIGIgaW4gYmlyZHNfbGlzdF0KICAgIHJldHVybiBiaXJkcwoKCmRlZiBiaXJkc19vbl9jcmVhdGUoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoImxpc3RlbmVyIikgPT0gImFkZF9iaXJkIjoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICJCaXJkQWRkIikKICAgIGlmIGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpID09ICdMYXlvdXRBY3Rpb24nOgogICAgICAgIHNlZW5fYmlyZF9pZCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImNhcmRfZGF0YSIpKVsna2V5J10KICAgICAgICBzZWVuX2JpcmRfbmFtZSA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImNhcmRfZGF0YSIpKVsnbmFtZSddWzY6XQogICAgICAgIGhhc2hNYXAucHV0KCJ0b2FzdCIsICdCaXJkICcrc2Vlbl9iaXJkX25hbWUrJyBzYXZlZCBhcyBzZWVuJykKICAgICAgICBoYXNoTWFwLnB1dCgnX3NlZW5fYmlyZF9pZCcsc3RyKHNlZW5fYmlyZF9pZCkpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBiaXJkc19vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBoYXNoTWFwLnB1dCgnZ2V0ZmlsZXMnLCcnKQogICAgal9iaXJkcyA9IHJlYWRfYmlyZHMoKQogICAgaiA9IHsKICAgICAgICAiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgICAgICJvcHRpb25zIjogeyJzZWFyY2hfZW5hYmxlZCI6IFRydWUsICJzYXZlX3Bvc2l0aW9uIjogVHJ1ZX0sCiAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlBpY3R1cmUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcGljMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIjIwMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICIxMDAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAbmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE2IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIzM0YzNlYiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2ZXJ0aWNhbF9ncmF2aXR5IjogImNlbnRlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBjb2xvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE2IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Q29sb3IiOiAiIzA3YTY2MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJncmF2aXR5X2hvcml6b250YWwiOiAiY2VudGVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICI1IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkJ1dHRvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiI2YwNmUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIkBrZXkiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9LAogICAgICAgIH0KICAgIH0KCiAgICBqWyJjdXN0b21jYXJkcyJdWyJjYXJkc2RhdGEiXSA9IFtdCiAgICBmb3IgYmlyZCBpbiBqX2JpcmRzOgogICAgICAgIGMgPSB7CiAgICAgICAgICAgICJrZXkiOiBiaXJkWyJpZCJdLAogICAgICAgICAgICAibmFtZSI6ICdOYW1lOiAnK2JpcmRbIm5hbWUiXSwKICAgICAgICAgICAgImNvbG9yIjogJ0ZlYXRoZXJzIGNvbG9yOiAnK2JpcmRbImNvbG9yIl0sCiAgICAgICAgICAgICJwaWMxIjogJ34nKyBuZXh0KChkWydwYXRoJ10gZm9yIGQgaW4gX2ZpbGVzIGlmIGRbJ2lkJ10gPT0gYmlyZFsnaW1hZ2UnXSksIE5vbmUpCiAgICAgICAgfQogICAgICAgIGpbImN1c3RvbWNhcmRzIl1bImNhcmRzZGF0YSJdLmFwcGVuZChjKQoKICAgIGhhc2hNYXAucHV0KCJjYXJkcyIsIGpzb24uZHVtcHMoaiwgZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoInV0ZjgiKS5kZWNvZGUoKSkKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBiaXJkc19hZnRlcl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICAjIGRlbGV0ZV9hbGxfYmlyZHMoKSAjIG9ubHkgZm9yIGRlYnVnLCB0byBjbGVhbiB0YWJsZQogICAgIyBkYi5kcm9wX3RhYmxlKCJCaXJkcyIpIyBvbmx5IGZvciBkZWJ1ZwogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgYmlyZHNfb25fYWRkKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlmIGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpID09ICJidG5fc2F2ZSI6CiAgICAgICAgd3JpdGVfYmlyZCgKICAgICAgICAgICAgaGFzaE1hcC5nZXQoImJpcmRfbmFtZSIpLAogICAgICAgICAgICBjb2xvcj1oYXNoTWFwLmdldCgiZmVhdGhlcl9jb2xvciIpLAogICAgICAgICAgICBpbWFnZT1oYXNoTWFwLmdldCgiaW1nIiksCiAgICAgICAgKQogICAgICAgICMgY2xlYW5pbmcgaGFzaG1hcCBhZnRlciBkYiB3cml0ZSB0byBjbGVhbiBmb3JtIGZvciBuZXh0IG5ldyBiaXJkCiAgICAgICAgaGFzaE1hcC5wdXQoImJpcmRfbmFtZSIsICIiKQogICAgICAgIGhhc2hNYXAucHV0KCJmZWF0aGVyX2NvbG9yIiwgIiIpCiAgICAgICAgaGFzaE1hcC5wdXQoIm5ld19pbWFnZSIsICIiKQogICAgICAgIGhhc2hNYXAucHV0KCJjYW1lcmEiLCBOb25lKQogICAgICAgIGhhc2hNYXAucHV0KCdnYWxsZXJ5JyxOb25lKQogICAgICAgIGhhc2hNYXAucHV0KCdpbWcnLCcnKQogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgIkJpcmRzTGlzdCIpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBiaXJkc19hZGRfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgI0NoZWNrIGlmIG9uZSBvZiBpbWFnZXMgaGFzIGJlZW4gcHJvdmlkZWQKICAgIGlmIGhhc2hNYXAuZ2V0KCdjYW1lcmEnKSA9PSBOb25lIGFuZCBoYXNoTWFwLmdldCgnZ2FsbGVyeScpID09IE5vbmU6CiAgICAgICAgaGFzaE1hcC5wdXQoJ25vX2ltYWdlJywgJ05vIGltYWdlJykKICAgICNjYXNlIGdhbGxlcnkgKHJlbW92ZSAnbm8gaW1hZ2UnIHRleHQsIHdyaXRlIGltZyB2YXIsIHB1dCBpbWFnZSB0byBmb3JtIGFuZCBjbGVhbiBpbnB1dCB2YXJpYWJsZXMpCiAgICBlbGlmIGhhc2hNYXAuY29udGFpbnNLZXkoJ2dhbGxlcnknKSBhbmQgaGFzaE1hcC5nZXQoJ2dhbGxlcnknKSAhPSBOb25lOgogICAgICAgIGhhc2hNYXAucHV0KCdub19pbWFnZScsICcnKQogICAgICAgIGhhc2hNYXAucHV0KCdpbWcnLCBoYXNoTWFwLmdldCgnZ2FsbGVyeScpKQogICAgICAgIGhhc2hNYXAucHV0KCduZXdfaW1hZ2UnLCAnficgKyBuZXh0KChkWydwYXRoJ10gZm9yIGQgaW4gX2ZpbGVzIGlmIGRbJ2lkJ10gPT0gaGFzaE1hcC5nZXQoJ2dhbGxlcnknKSksICcnKSkKICAgICAgICBoYXNoTWFwLnB1dCgnZ2FsbGVyeScsTm9uZSkKICAgICAgICBoYXNoTWFwLnB1dCgnY2FtZXJhJyxOb25lKQogICAgI2Nhc2UgY2FtZXJhLCBzYW1lIGFzIGFib3ZlCiAgICBlbGlmIGhhc2hNYXAuY29udGFpbnNLZXkoJ2NhbWVyYScpIGFuZCBoYXNoTWFwLmdldCgnY2FtZXJhJykgIT0gTm9uZToKICAgICAgICBoYXNoTWFwLnB1dCgnbm9faW1hZ2UnLCAnJykKICAgICAgICBoYXNoTWFwLnB1dCgnaW1nJywgaGFzaE1hcC5nZXQoJ2NhbWVyYScpKQogICAgICAgIGhhc2hNYXAucHV0KCduZXdfaW1hZ2UnLCAnficgKyBuZXh0KChkWydwYXRoJ10gZm9yIGQgaW4gX2ZpbGVzIGlmIGRbJ2lkJ10gPT0gaGFzaE1hcC5nZXQoJ2NhbWVyYScpKSwgJycpKQogICAgICAgIGhhc2hNYXAucHV0KCdjYW1lcmEnLE5vbmUpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2dhbGxlcnknLE5vbmUpCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBpbml0X2JkX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGhhc2hNYXAucHV0KCJTUUxDb25uZWN0RGF0YWJhc2UiLCAiIikKICAgIGhhc2hNYXAucHV0KAogICAgICAgICJTUUxFeGVjIiwKICAgICAgICBqc29uLmR1bXBzKAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAicXVlcnkiOiAiY3JlYXRlIHRhYmxlIElGIE5PVCBFWElTVFMgQmlyZHMoaWQgaW50ZWdlciBwcmltYXJ5IGtleSBhdXRvaW5jcmVtZW50LCBuYW1lIHRleHQsIGNvbG9yIHRleHQsIGltYWdlIHRleHQpIiwKICAgICAgICAgICAgICAgICJwYXJhbXMiOiAiIiwKICAgICAgICAgICAgfQogICAgICAgICksCiAgICApCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBjYW1lcmFfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaGFzaE1hcC5wdXQoIm1tX2xvY2FsIiwgIiIpCiAgICBoYXNoTWFwLnB1dCgibW1fc2l6ZSIsICIzMCIpCiAgICBoYXNoTWFwLnB1dCgibW1fY29tcHJlc3Npb24iLCAiMzAiKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgY2FtZXJhX29uX2lucHV0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIHJldHVybiBoYXNoTWFwCgojIyMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tc2VlbiBiaXJkcyBoYW5kbGVycy0tLS0tLS0tLS0tLS0tLS0KCgpkZWYgc2Vlbl9iaXJkc19vbl9pbnB1dChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnY2hlY2snOgogICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsaGFzaE1hcC5nZXQoJ19zZWVuX2JpcmRfaWQnKSkKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIHNlZW5fYmlyZHNfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaGFzaE1hcC5wdXQoJ2dldGZpbGVzJywnJykKICAgIGpfYmlyZHMgPSByZWFkX2JpcmRzKCkKICAgIGogPSB7CiAgICAgICAgImN1c3RvbWNhcmRzIjogewogICAgICAgICAgICAib3B0aW9ucyI6IHsic2VhcmNoX2VuYWJsZWQiOiBUcnVlLCAic2F2ZV9wb3NpdGlvbiI6IFRydWV9LAogICAgICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJQaWN0dXJlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHBpYzEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICIyMDAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAiMTAwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMzNGMzZWIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmVydGljYWxfZ3Jhdml0eSI6ICJjZW50ZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY29sb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxNiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiMwN2E2NjMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0SXRhbGljIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ3Jhdml0eV9ob3Jpem9udGFsIjogImNlbnRlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiNSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJCdXR0b24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIiNmMDZlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICJAa2V5IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgfSwKICAgICAgICB9CiAgICB9CgogICAgalsiY3VzdG9tY2FyZHMiXVsiY2FyZHNkYXRhIl0gPSBbXQogICAgZm9yIGJpcmQgaW4gal9iaXJkczoKICAgICAgICBjID0gewogICAgICAgICAgICAia2V5IjogYmlyZFsiaWQiXSwKICAgICAgICAgICAgIm5hbWUiOiAnTmFtZTogJytiaXJkWyJuYW1lIl0sCiAgICAgICAgICAgICJjb2xvciI6ICdGZWF0aGVycyBjb2xvcjogJytiaXJkWyJjb2xvciJdLAogICAgICAgICAgICAicGljMSI6ICd+JysgbmV4dCgoZFsncGF0aCddIGZvciBkIGluIF9maWxlcyBpZiBkWydpZCddID09IGJpcmRbJ2ltYWdlJ10pLCBOb25lKQogICAgICAgIH0KICAgICAgICBqWyJjdXN0b21jYXJkcyJdWyJjYXJkc2RhdGEiXS5hcHBlbmQoYykKCiAgICBoYXNoTWFwLnB1dCgiY2FyZHMiLCBqc29uLmR1bXBzKGosIGVuc3VyZV9hc2NpaT1GYWxzZSkuZW5jb2RlKCJ1dGY4IikuZGVjb2RlKCkpCgogICAgcmV0dXJuIGhhc2hNYXA=",
        "RunPython": true
    }
}